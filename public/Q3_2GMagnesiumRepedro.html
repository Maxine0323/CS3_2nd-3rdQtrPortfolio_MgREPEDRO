<!DOCTYPE html>
<html>
<head>
    <title>Q3_2GMagnesiumRepedro</title>
    <style>
        body { background-color: rgb(255, 216, 216); font-family: sans-serif; padding: 20px; }
        form { background-color: white; padding: 20px; width: 400px; border: 2px solid black; }
        fieldset { margin-bottom: 15px; }
        input:focus, select:focus, textarea:focus { background-color: lightyellow; border: 2px solid blue; }
        .missing { background-color: pink; border: 2px solid red; }
        label { display: block; margin-top: 10px; }
    </style>
</head>
<body>

    <form id="signupForm" onsubmit="return saveData(event)">
        <h2>Application Form</h2>

        <fieldset>
            <legend>Personal Data</legend>
            <label>Student ID: <input type="number" name="sid" required onblur="validate(this)"></label>
            <label>Full Name: <input type="text" name="fname" required onblur="validate(this)"></label>
            <label>Email: <input type="email" name="eml" required onblur="validate(this)"></label>
        </fieldset>

        <fieldset>
            <legend>Club Details</legend>
            <label>Mobile Phone: <input type="text" name="phone" required onblur="validate(this)"></label>
            <label>Grade Level:
                <select name="grade" required>
                    <option value="">Select</option>
                    <option value="7">Grade 7</option>
                    <option value="8">Grade 8</option>
                    <option value="9">Grade 9</option>
                    <option value="10">Grade 10</option>
                    <option value="11">Grade 11</option>
                    <option value="12">Grade 12</option>
                </select>
            </label>
            <label>Status: 
                <input type="radio" name="status" value="Intern" required> Intern
                <input type="radio" name="status" value="Extern" required> Extern
            </label>
            <label>Club Choice:
                <select name="club" required>
                    <option value="">Select</option>
                    <option value="Loqui">Loqui</option>
                    <option value="Himig">Himig</option>
                    <option value="Sagala">Sagala</option>
                    <option value="Likha">Likha</option>
                    <option value="Alianti">Alianti</option>
                </select>
            </label>
        </fieldset>

        <input type="submit" value="Submit">
        <input type="reset" value="Reset" onclick="return confirm('Clear all data?')">
        <button type="button" onclick="location.href='Q3_3GMagnesiumRepedro.html'">View Signups</button>
    </form>

    <script>
        function validate(element) {
            element.className = (element.value == "") ? "missing" : "";
        }

        function saveData(event) {
            event.preventDefault(); 
            if(!confirm("Submit this form?")) return;

            const form = document.getElementById('signupForm');
            const formData = new FormData(form);
            const studentObject = Object.fromEntries(formData.entries());

            
            let allSignups = JSON.parse(localStorage.getItem('clubSignups')) || [];
            allSignups.push(studentObject);
            
           
            localStorage.setItem('clubSignups', JSON.stringify(allSignups));

            alert("Signup Saved!");
            form.reset();
        }
    </script>
</body>
</html>